// ==========================================================
// Widgets
// ==========================================================

 // Growl 
.growl {
    font-weight:bold;
    position:fixed;
    top:@margin*2;
    right:@margin*2;
    z-index:9999;
    .opacity(80);
    >div {
        width:180px;
        margin-top:@margin;
        position:relative;
        &:first-child {margin-top:0;}
        .ui-icon-closethick {.opacity(0);@transition: opacity .2s;.transition(@transition);}
        &:hover {.ui-icon-closethick {.opacity(100);}}
    }
}

// Table
[class*="table"] {
    position: relative;
    table {
        width: 100%;
        thead th, tbody td {
            &:not([class*="padding"]) {
                padding: @space; 
            }
        }
        thead th {
            text-align: left;
        }
        tbody tr {
            &.table-expander {
                display: none;
                td {
                    border-top: none;
                }

            }
            td.table-row-icon {
                max-width: 0;
                opacity: 0;
                padding: 0 !important;
                position: relative;
                width: 0;
                vertical-align: middle;
                >* {
                    .position(@l:100%, @t:50%);
                    transform: translate(@margin/2,-50%);
                }
            }
            &:hover td.table-row-icon {
                background: none !important;
                opacity: 1;
            }
        }
    }
    &[class*="-separated"] {
        thead tr th {
            border-bottom: 1px solid transparent;
        }
        tbody tr+tr td {
            border-top: 1px solid transparent;
        }
    }
    &[class*="-zebra"] {
        tbody tr:nth-child(odd) td:not([class*="swatch"]) {
            background: lighten(@borderStatic, 9%);
        }
    }
    &[class*="-spacing--s"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-s;  
                }
            }
        }   
    }
    &[class*="-spacing--xs"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-xs;  
                }
            }
        }   
    }
    &[class*="-spacing--l"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-l;  
                }
            }
        }   
    }
    &[class*="-spacing--xl"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-xl;
                }
            }
        }   
    }
    &[class*="-spacing--semi"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-s @space;  
                }
            }
        }   
    }
    &[class*="-spacing--semi--xs"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-xs/2 @space-xs;  
                }
            }
        }   
    }
    &[class*="-spacing--semi--s"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-xs @space-s;  
                }
            }
        }   
    }
    &[class*="-spacing--semi--l"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space @space-l;  
                }
            }
        }   
    }
    &[class*="-spacing--semi--xl"] {
        table {
            thead th, tbody td {
                &:not([class*="padding"]) {
                    padding: @space-l @space-xl;
                }
            }
        }   
    }
}

// Dialog
.dialog {
    .ui-dialog-content {
        // margin-bottom: @margin;
    }
    .dialog-buttons {
        margin: 0 0 -@margin -@margin;
        table-layout: fixed;
        .cell {
            .button {
                .border-radius(0);
                box-shadow: none;
                border-width: 1px 1px 0 0;
                text-align: center;
                width: 100%;
            }
            + .cell .button {
                border-right: none;
            }
        }
    }
}

// Popover
[class*="popover"] {
    @x: @popoverArrow;
    @d: round((@x * sqrt(2)), 2) + 4px;
    @s: (@d - @x)/2;
    .position();
    .popover-arrow {
        background: none !important;
        position: absolute;
        height: @d/2;
        overflow: hidden;
        width: @d;
        &:before {
            .rotate(45deg);
            .position(@t:@s,@l:@s);
            border-width: 1px;
            border-color: transparent;
            border-style: solid;
            content: '';
            height: @x;
            width: @x;
        }
    }
    &[class*="popover-bottom"] .popover-arrow:before {
        top: auto;
        bottom: @s;
    }
    &, &[class*="popover-top"] {
        .popover-arrow {
            bottom: 100%;
        }
    }
    &[class*="popover-bottom"] {
        .popover-arrow {
            top: 100%;
        }
    }
    &[class*="popover-top-left"], &[class*="popover-bottom-left"] {
        .popover-arrow {
            left: @cornerRadius + 2px;
            right: auto;
        }
    }
    &[class*="popover-top-right"], &[class*="popover-bottom-right"] {
        .popover-arrow {
            left: auto;
            right: @cornerRadius + 2px;
        }
    }
    &[class*="popover-top-center"], &[class*="popover-bottom-center"] {
        .popover-arrow {
            left: 50%;
            margin-left: -@d/2;
            right: auto;
        }
    }
}

// Banner
.banner {
    .position(fixed, @t:0, @l:0, @z:999);
    height: 100%;
    width: 100%;
    text-shadow: 0 0 1px fade(@dialogOverlay, 50%);
    .box {
        background: @dialogOverlay;
        border: none;
        &.banner-cogs {
            line-height: 1;
            &:after, &:before {
                content: '\e800';
                display: inline-block;
                font-family: fontello;
                height: 1em;
                line-height: 1;
                margin-top: 0.53em;
                position: relative;
                width: 1em;
            }
            &:after {
                .animation(spin 2300ms linear infinite);
                top: -0.53em;
                margin-left: -0.19em;
            }
            &:before {
                .animation(spin2 2300ms linear infinite);
            }
        }
    }
    &, h1, h2, h3, h4, h5, h6 {
        .colorCheck(@dialogOverlay);
        margin-top: 0;
    }
    &, &.cells {
        display: none;
    }
    &.cells.visible {
        display: table;
    }
}

// Item List
.items:not([class*='items-'])>* + * {
    margin-left: @space;
}
.items-spacing--xs>* + * {
    margin-left: @space-xs;
}
.items-spacing--s>* + * {
    margin-left: @space-s;
}
.items-spacing--l>* + * {
    margin-left: @space-l;
}
.items-spacing--xl>* + * {
    margin-left: @space-xl;
}

// Buttons
.createButton() {
    .border-radius(@cornerRadius);
    border-style: solid;
    border-width: 1px;
    display: inline-block;
    font-weight: bold;
    line-height: @bodyBaseline;
    text-align: center;
    white-space: nowrap;
}
.createElementPadding(@padding, @ratio:2) {
    &:not([class*=padding]) {
        padding: round(@padding,1) round(@padding*(4/@ratio),1);
        &[class*="-spacing--xs"] {
            padding: round(@padding*0.5,1) round(@padding*(2/@ratio),1);
        }
        &[class*="-spacing--s"] {
            padding: round(@padding*0.75,1) round(@padding*(3/@ratio),1);
        }
        &[class*="-spacing--l"] {
            padding: round(@padding*1.25,1) round(@padding*(5/@ratio),1);
        }
        &[class*="-spacing--xl"] {
            padding: round(@padding*1.5,1) round(@padding*(6/@ratio),1);
        }
    }
}
a, button, input, .ui-button {
    &[class*=button] {
        .createButton;
    }
}
[class*=button][class*="-blank"] {
    background: none !important;
    border-color: transparent !important;
    box-shadow: none !important;
}
[class*=button] {
    .createElementPadding(@buttonPadding, @buttonPaddingRatio);
}

// Menu
ul[class*="menu"] {
    &:not(.cells) {
        display: inline-block;
    }
    list-style-type: none;
    margin-bottom: 0;
    margin-right: 0;
    margin-top: 0;
    padding: 0;
    white-space: nowrap;
    >li {
        .clear-fix;
        display: inline-block;
        position: relative;
        >a[class*="button"] {
            .box-sizing(content-box);
            min-width: 1em;
        }
            .label {
                &[class*="icon"]:before {
                    margin: 0;
                }
            }
        >a {
            display: inline-block;
            white-space: nowrap;
        }
        >*[class*="menu"]:not([class*="-separated"]) {
            .clear-ul;
            display: none;
            z-index: 99;
            &[class*="menu"][class*="-right"] {
                left: auto !important;
                right: 0;
            }
        }
        &:hover {
            *[class*="menu"] {
                display: block;
            }
            &[class*="swatch"] {
                >a[class*="swatch"] {
                    background: none;
                    color: inherit !important;
                }
            }
        }
    }
    &[class*="-horizontal"] {
        >li {
            >a {
                *[class*="icon"]:before {
                    margin: 0;
                }
            }
            >*[class*="menu"]:not([class*="-separated"]) {
                .position(@t:100%, @l:0);
                min-width: 100%;
                &[class*="-right"] {
                    left: auto;
                    right: 0;
                }
            }
        }
    }
    &[class*="-vertical"] {
        display: block;
        >li {
            display: block;
            a {
                display: block;
                float: none;
                &[class*="button"] {
                    text-align: left;
                }
            }
            >*[class*="menu"]:not([class*="-separated"]) {
                .position(@t:0, @l:100%);
            }
        }
    }
    &[class*="-separated"] {
        >li+li {
            border-left-width: 1px;
            border-left-style: solid;
        }
    }
}

// Box
.box {
    .border-radius(@cornerRadius);
    border: 1px solid transparent;
    display: block;
    margin-bottom: @space;
    padding: @space;
    &:last-child {
        margin-bottom: 0;
    }
}

// Label
.label {
    .border-radius(@cornerRadius);
    display: inline;
    padding: 0.2em 0.5em;
    white-space: nowrap;
}

// Grid
.grid.row {
    margin-left: -@space;
    margin-top: -@space;
    *[class^=col] {
        border-left-width: @space;
        margin-top: @space;
    }
    &[class*="-spacing--xs"] {
        margin-left: -@space-xs;
        margin-top: -@space-xs;
        *[class^=col] {
            border-left-width: @space-xs;
            margin-top: @space-xs;
        }
    }
    &[class*="-spacing--s"] {
        margin-left: -@space-s;
        margin-top: -@space-s;
        *[class^=col] {
            border-left-width: @space-s;
            margin-top: @space-s;
        }
    }
    &[class*="-spacing--l"] {
        margin-left: -@space-l;
        margin-top: -@space-l;
        *[class^=col] {
            border-left-width: -@space-l;
            margin-top: -@space-l;
        }
    }
    &[class*="-spacing--xl"] {
        margin-left: -@space-xl;
        margin-top: -@space-xl;
        *[class^=col] {
            border-left-width: -@space-xl;
            margin-top: -@space-xl;
        }
    }
}

// Cells
[class*="cells"] {
    display:table;
    width: 100%;
    >.cell {
        display: table-cell;
        vertical-align: middle;
    }
    &[class*="move"] {
        width: auto;
    }
}
.cells-group {
    display: table;
    >[class*="cells"] {
        display: table-row;
    }
}
.cells-table {
    display: table;
    .cells-group {
        display: table-row-group;
    }
    >[class*="cells"] {
        display: table-row;
    }
}
[class*="cells"][class*="-justified"] {
    table-layout: fixed;
}
[class*="spacing"] {
    &[class*="cells"]>.cell,
    &[class*="cells"][class*="group"]>[class*="cells"]>.cell {
        padding-left: @space/2;
        padding-right: @space/2;
        &:first-child {
            padding-left: 0;
        }
        &:last-child {
            padding-right: 0;
        }
    }
}
[class*="-spacing--xl"] {
    &[class*="cells"]>.cell,
    &[class*="cells"][class*="group"]>[class*="cells"]>.cell {
        padding-left: @space-xl/2;
        padding-right: @space-xl/2;
    }
}
[class*="-spacing--l"] {
    &[class*="cells"]>.cell,
    &[class*="cells"][class*="group"]>[class*="cells"]>.cell {
        padding-left: @space-l/2;
        padding-right: @space-l/2;
    }
}
[class*="-spacing--s"] {
    &[class*="cells"]>.cell,
    &[class*="cells"][class*="group"]>[class*="cells"]>.cell {
        padding-left: @space-s/2;
        padding-right: @space-s/2;
    }
}
[class*="-spacing--xs"] {
    &[class*="cells"]>.cell,
    &[class*="cells"][class*="group"]>[class*="cells"]>.cell {
        padding-left: @space-xs/2;
        padding-right: @space-xs/2;
    }
}

// Lister
[class*="lister"] {
    > * {
        padding-bottom: @space;
        + * {
            border-top-style: solid;
            border-top-width: 1px;
            padding-top: @space;
        }
        &:last-child:not([class*="padding"]) {
            padding-bottom: 0 !important;
        }
    }
    &[class*="-spacing--none"] {
        > * {
            padding-bottom: 0;
            + * {
                padding-top: 0;
            }
        }
    }
    &[class*="-spacing--xs"] {
        > * {
            padding-bottom: @space-xs;
            + * {
                padding-top: @space-xs;
            }
        }
    }
    &[class*="-spacing--s"] {
        > * {
            padding-bottom: @space-s;
            + * {
                padding-top: @space-s;
            }
        }
    }
    &[class*="-spacing--l"] {
        > * {
            padding-bottom: @space-l;
            + * {
                padding-top: @space-l;
            }
        }
    }
    &[class*="-spacing--xl"] {
        > * {
            padding-bottom: @space-xl;
            + * {
                padding-top: @space-xl;
            }
        }
    }
}